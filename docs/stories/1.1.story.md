# Story 1.1: Project Setup and Core Dependencies

## Status
Done

## Story
**As a** 개발자,
**I want** React + TypeScript + Vite 프로젝트를 설정하고 핵심 의존성을 구성하기를,
**so that** 견고한 개발 환경에서 블로그를 구축할 수 있다.

## Acceptance Criteria
1. Vite를 사용한 React + TypeScript 프로젝트가 초기화되어야 한다
2. TailwindCSS와 Shadcn UI가 설치되고 구성되어야 한다
3. Zustand 상태 관리 라이브러리가 설치되어야 한다
4. ESLint, Prettier 설정이 완료되어야 한다
5. 기본 프로젝트 구조 (/src/components, /src/pages, /src/store, /content)가 생성되어야 한다
6. GitHub 저장소가 생성되고 초기 커밋이 완료되어야 한다
7. 개발 서버가 정상 실행되고 "Hello World" 페이지가 표시되어야 한다

## Tasks / Subtasks
- [x] Task 1: Vite로 React + TypeScript 프로젝트 초기화 (AC: 1)
  - [x] Subtask 1.1: Vite 프로젝트 생성 (`npm create vite@latest . -- --template react-ts`)
  - [x] Subtask 1.2: package.json 확인 및 기본 설정 조정
  - [x] Subtask 1.3: vite.config.ts 기본 설정 확인
  - [x] Subtask 1.4: tsconfig.json strict 모드 설정 확인

- [x] Task 2: TailwindCSS 설치 및 구성 (AC: 2)
  - [x] Subtask 2.1: TailwindCSS 및 관련 패키지 설치 (`npm install -D tailwindcss postcss autoprefixer`)
  - [x] Subtask 2.2: TailwindCSS 초기화 (`npx tailwindcss init -p`)
  - [x] Subtask 2.3: tailwind.config.js에 content 경로 설정
  - [x] Subtask 2.4: src/index.css에 Tailwind 디렉티브 추가

- [x] Task 3: Shadcn UI 설치 및 초기 설정 (AC: 2)
  - [x] Subtask 3.1: Shadcn UI 초기화 (`npx shadcn-ui@latest init`)
  - [x] Subtask 3.2: TypeScript 경로 별칭 설정 (@/components)
  - [x] Subtask 3.3: components.json 구성 확인
  - [x] Subtask 3.4: 기본 UI 컴포넌트 설치 (Button, Card 등 테스트용)

- [x] Task 4: Zustand 상태 관리 설치 (AC: 3)
  - [x] Subtask 4.1: Zustand 패키지 설치 (`npm install zustand`)
  - [x] Subtask 4.2: src/stores 폴더 생성
  - [x] Subtask 4.3: 기본 store 파일 구조 생성 (useThemeStore.ts 예시)

- [x] Task 5: ESLint, Prettier 설정 (AC: 4)
  - [x] Subtask 5.1: ESLint 관련 패키지 설치
  - [x] Subtask 5.2: Prettier 설치 (`npm install -D prettier`)
  - [x] Subtask 5.3: .eslintrc.json 설정 파일 생성
  - [x] Subtask 5.4: .prettierrc 설정 파일 생성
  - [x] Subtask 5.5: package.json에 lint, format 스크립트 추가

- [x] Task 6: 프로젝트 폴더 구조 생성 (AC: 5)
  - [x] Subtask 6.1: src/components 폴더 및 하위 구조 생성 (ui/, layout/, common/)
  - [x] Subtask 6.2: src/pages 폴더 생성
  - [x] Subtask 6.3: src/stores 폴더 생성 (이미 생성되었으면 확인)
  - [x] Subtask 6.4: src/hooks, src/services, src/utils, src/types 폴더 생성
  - [x] Subtask 6.5: content 폴더 생성 (posts/, pages/ 하위 폴더 포함)

- [x] Task 7: "Hello World" 페이지 구현 (AC: 7)
  - [x] Subtask 7.1: src/App.tsx를 간단한 Hello World 컴포넌트로 수정
  - [x] Subtask 7.2: Tailwind 클래스를 사용한 기본 스타일링 적용
  - [x] Subtask 7.3: Shadcn UI Button 컴포넌트 테스트 통합
  - [x] Subtask 7.4: 다크/라이트 모드 토글 버튼 추가 (Zustand 활용)

- [x] Task 8: Git 저장소 초기화 및 커밋 (AC: 6)
  - [x] Subtask 8.1: .gitignore 파일 확인 및 필요시 수정
  - [x] Subtask 8.2: Git 초기화 (이미 되었으면 확인)
  - [x] Subtask 8.3: 첫 커밋 생성 ("feat: initial project setup with React + TypeScript + Vite")
  - [x] Subtask 8.4: GitHub 원격 저장소 연결 확인

- [x] Task 9: 개발 환경 검증 (AC: 7)
  - [x] Subtask 9.1: npm run dev 실행 확인
  - [x] Subtask 9.2: 브라우저에서 localhost:5173 접속 확인
  - [x] Subtask 9.3: HMR(Hot Module Replacement) 작동 확인
  - [x] Subtask 9.4: TypeScript 타입 체크 실행 (`npm run type-check` 스크립트 추가 및 실행)

- [x] Task 10: 기본 테스트 환경 설정
  - [x] Subtask 10.1: Vitest 설치 (`npm install -D vitest @vitest/ui`)
  - [x] Subtask 10.2: React Testing Library 설치 (`npm install -D @testing-library/react @testing-library/jest-dom`)
  - [x] Subtask 10.3: vitest.config.ts 생성
  - [x] Subtask 10.4: 간단한 App.test.tsx 파일 생성 및 테스트 실행

## Dev Notes

### 프로젝트 초기 설정 정보

#### 기술 스택 버전 요구사항
[Source: architecture.md#Tech Stack]
- **Node.js**: v22.0.0 이상 필요
- **npm**: v10.0.0 이상 필요
- **React**: 18.3+
- **TypeScript**: 5.3+ (strict 모드 사용)
- **Vite**: 5.0+
- **Zustand**: 4.5+
- **TailwindCSS**: 3.4+
- **Shadcn UI**: latest

#### 프로젝트 구조
[Source: architecture.md#Unified Project Structure]
```
src/
├── components/           # 재사용 가능한 UI 컴포넌트
│   ├── ui/              # Shadcn UI 컴포넌트
│   ├── layout/          # 레이아웃 컴포넌트
│   ├── common/          # 공통 컴포넌트
├── pages/               # 페이지 컴포넌트
├── hooks/               # 커스텀 훅
├── services/            # API 서비스
├── stores/              # Zustand 스토어
├── utils/               # 유틸리티 함수
├── types/               # TypeScript 타입 정의
├── styles/              # 스타일
├── lib/                 # 외부 라이브러리 설정
└── vite-env.d.ts        # Vite 타입 정의

content/                 # 콘텐츠 (GitHub 저장)
├── posts/               # 블로그 포스트
└── pages/               # 정적 페이지
```

#### TypeScript 설정
[Source: architecture.md#Coding Standards]
- TypeScript strict 모드 필수 사용
- 모든 타입은 src/types에 정의하고 import하여 사용
- 컴포넌트는 named export 사용

#### ESLint/Prettier 설정 요구사항
[Source: architecture.md#Development Workflow]
- ESLint + Prettier 코드 품질 관리 필수
- Husky + lint-staged로 커밋 전 검증 (선택사항, 추후 설정 가능)

#### Vite 설정 고려사항
[Source: architecture.md#Tech Stack]
- 빠른 HMR 지원
- ESM 지원
- Tree shaking과 Code splitting 자동화

#### Shadcn UI 초기 설정
- TypeScript 경로 별칭 설정 필수 (@/components)
- TailwindCSS와 완벽 호환 확인
- Radix UI 기반 접근성 보장

#### package.json 스크립트
[Source: architecture.md#Development Commands]
```json
{
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "type-check": "tsc --noEmit",
    "test": "vitest",
    "preview": "vite preview"
  }
}
```

### Testing

#### 테스트 설정 요구사항
[Source: architecture.md#Testing Strategy]
- **테스트 프레임워크**: Vitest 1.0+
- **테스트 라이브러리**: React Testing Library
- **테스트 구조**: tests/unit, tests/integration, tests/e2e 폴더 구조
- **초기 설정에서는 기본 unit 테스트 환경만 구성**

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2024-12-19 | 1.0 | 초기 스토리 생성 | SM |
| 2024-12-19 | 1.1 | 모든 태스크 완료 | Dev |
| 2024-12-19 | 1.2 | QA 리뷰 및 리팩토링 완료 | QA |

## Dev Agent Record

### Agent Model Used
Claude 3.5 Sonnet (via Cursor IDE)

### Debug Log References
N/A - No debug logs generated

### Completion Notes List
- 모든 태스크 성공적으로 완료
- Vite + React + TypeScript 프로젝트가 이미 초기화되어 있었음
- TailwindCSS v4 및 Shadcn UI 성공적으로 통합
- 테스트 환경 설정 완료, window.matchMedia mock 추가
- 모든 Acceptance Criteria 충족

### File List
**Created:**
- tailwind.config.js
- postcss.config.js
- components.json
- src/components/ui/button.tsx
- src/components/ui/card.tsx
- src/lib/utils.ts
- src/stores/useThemeStore.ts
- .prettierrc
- vitest.config.ts
- src/test/setup.ts
- src/App.test.tsx
- Multiple directories: src/components/*, src/pages, src/hooks, src/services, src/utils, src/types, src/styles, content/posts, content/pages

**Modified:**
- package.json
- tsconfig.json
- tsconfig.app.json
- vite.config.ts
- src/index.css
- src/App.tsx
- src/main.tsx
- eslint.config.js

**Modified by QA:**
- src/stores/useThemeStore.ts (리팩토링: 중복 제거, 기능 개선)
- src/App.tsx (리팩토링: 중복 로직 제거)
- src/App.test.tsx (테스트 커버리지 확대)

## QA Results

### Review Date: 2024-12-19

### Reviewed By: Quinn (Senior Developer QA) 🧪

### Code Quality Assessment

전반적으로 프로젝트 설정이 매우 잘 구현되었습니다. 모든 요구사항이 충족되었으며, 기본 프로젝트 구조가 깔끔하게 구성되어 있습니다. TailwindCSS v4 및 Shadcn UI 통합이 성공적으로 완료되었고, 테스트 환경도 적절히 설정되었습니다.

코드 품질 관점에서 몇 가지 중복 코드와 개선사항을 발견하여 직접 리팩토링을 수행했습니다.

### Refactoring Performed

- **File**: `src/stores/useThemeStore.ts`
  - **Change**: 테마 관리 로직 개선 및 새로운 유틸리티 메서드 추가
  - **Why**: App.tsx와 중복된 테마 적용 로직이 있었고, system 테마 변경 감지가 누락되어 있었음
  - **How**: 
    - `applyCurrentTheme()` 메서드 추가로 테마 적용 로직 중앙화
    - `getEffectiveTheme()` 메서드로 실제 적용된 테마 확인 가능
    - system 테마 변경 이벤트 리스너 추가
    - onRehydrateStorage 훅으로 초기 로드 시 자동 테마 적용
    - JSDoc 주석 추가로 코드 문서화 개선

- **File**: `src/App.tsx`
  - **Change**: 중복된 테마 적용 로직 제거 및 UI 개선
  - **Why**: useThemeStore와 동일한 로직이 useEffect에 중복 구현되어 있었음
  - **How**: 
    - store의 `applyCurrentTheme()` 메서드 활용
    - 아이콘 표시를 effectiveTheme 기반으로 변경
    - system 테마일 때 실제 적용 테마도 함께 표시

- **File**: `src/App.test.tsx`
  - **Change**: 테스트 커버리지 확대 및 개선
  - **Why**: 테마 토글 기능과 컴포넌트 구조에 대한 테스트가 부족했음
  - **How**: 
    - beforeEach 훅으로 테스트 격리성 향상
    - 테마 토글 버튼 클릭 테스트 추가
    - 컴포넌트 구조 검증 테스트 추가
    - 테스트 수를 3개에서 5개로 확대

### Compliance Check

- Coding Standards: ✅ TypeScript strict 모드 활성화, named export 사용, 코드 스타일 일관성 유지
- Project Structure: ✅ 모든 폴더가 architecture 문서 기준에 맞게 생성됨
- Testing Strategy: ✅ Vitest + React Testing Library 설정 완료, 테스트 커버리지 개선됨
- All ACs Met: ✅ 7개 Acceptance Criteria 모두 충족

### Improvements Checklist

- [x] Theme store 중복 로직 제거 및 개선 (src/stores/useThemeStore.ts)
- [x] App.tsx 테마 적용 로직 리팩토링 (src/App.tsx)
- [x] 테스트 커버리지 확대 (src/App.test.tsx)
- [x] System 테마 변경 감지 기능 추가
- [ ] Husky + lint-staged 설정 (선택사항, 추후 구현 가능)
- [ ] GitHub Actions workflow 파일 생성 (Epic 1.4에서 구현 예정)

### Security Review

보안 관련 이슈 없음. 초기 설정 프로젝트로서 민감한 데이터 처리나 외부 API 통신이 없습니다.

### Performance Considerations

- ✅ Vite의 빠른 HMR 및 최적화된 빌드 설정 확인
- ✅ Tree shaking 및 Code splitting 자동화 설정
- ✅ TailwindCSS의 PurgeCSS로 사용하지 않는 스타일 제거
- 빌드 크기: 71.30 kB (gzipped) - 초기 프로젝트로서 적절한 크기

### Final Status

✅ **Approved - Ready for Done**

프로젝트 초기 설정이 우수하게 완료되었습니다. 모든 요구사항이 충족되었으며, 코드 품질 개선을 위한 리팩토링도 완료했습니다. 테스트가 모두 통과하고 빌드가 성공적으로 완료되었습니다.
