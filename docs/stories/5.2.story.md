# Story 5.2: 푸터 제거 및 사이드바 통합

## Status
**Done**

## Story
**As a** 블로그 방문자,  
**I want** 간소화된 레이아웃에서 소셜 링크를 사이드바 하단에서 쉽게 찾을 수 있도록,  
**so that** 콘텐츠에 더 집중할 수 있고 네비게이션이 더 직관적이다

## Acceptance Criteria

1. **푸터 완전 제거**
   - Footer.tsx 컴포넌트가 더 이상 사용되지 않는다
   - Layout.tsx에서 Footer 컴포넌트 참조가 제거된다
   - 푸터가 차지하던 공간이 콘텐츠 영역으로 활용된다

2. **사이드바에 소셜 링크 통합**
   - AppSidebar의 하단에 간소화된 소셜 링크 섹션이 추가된다
   - GitHub, LinkedIn, Twitter, Mail 링크가 모두 포함된다
   - 링크들이 적절한 아이콘과 함께 표시된다
   - 사이드바 축소 시에도 아이콘으로 접근 가능하다

3. **사이드바 레이아웃 최적화**
   - 소셜 링크가 사이드바 최하단에 배치된다
   - 기존 네비게이션과 시각적으로 구분된다 (구분선 또는 여백)
   - 사이드바 축소/확장 상태 모두에서 적절히 표시된다

4. **콘텐츠 영역 확장**
   - 메인 콘텐츠 영역이 푸터 제거로 인해 확장된다
   - 페이지 하단 여백이 적절히 조정된다
   - 스크롤 동작이 자연스럽게 개선된다

## UX/Design Checklist

- [x] PRD UI Design Goals section reviewed and relevant elements identified
- [x] Accessibility requirements (WCAG AA) considered and included in ACs
- [x] Branding elements (colors, typography, visual identity) addressed
- [x] Interaction design patterns (loading states, feedback, animations) specified
- [x] Responsive design requirements (mobile/tablet/desktop) defined
- [x] Keyboard navigation and shortcuts considered
- [x] Error handling and user feedback mechanisms included
- [x] Visual consistency with existing components ensured

## Tasks / Subtasks

- [ ] Layout.tsx에서 Footer 컴포넌트 제거 (AC: 1)
  - [ ] Footer 컴포넌트 import 제거
  - [ ] Footer 렌더링 코드 제거
  - [ ] 레이아웃 구조 정리 및 검증

- [ ] AppSidebar에 소셜 링크 섹션 추가 (AC: 2, 3)
  - [ ] SidebarFooter 컴포넌트 import 추가
  - [ ] 새로운 SidebarFooter에 소셜 링크 컨테이너 생성
  - [ ] GitHub, LinkedIn, Twitter, Mail 버튼 구현
  - [ ] 사이드바 축소/확장 상태별 반응형 레이아웃 구현
  - [ ] 각 링크에 적절한 aria-label 추가

- [ ] 소셜 링크 기능 구현 (AC: 2)
  - [ ] 기존 Footer의 URL과 동일하게 설정
  - [ ] target="_blank" 및 rel="noopener noreferrer" 속성 적용
  - [ ] 새 탭에서 열리는 동작 테스트

- [ ] 스타일링 및 반응형 최적화 (AC: 3)
  - [ ] Shadcn UI 패턴 준수한 스타일링
  - [ ] 다크/라이트 모드 색상 대비 확보
  - [ ] 터치 디바이스 대응 버튼 크기 (최소 44px)
  - [ ] 사이드바 축소 시 세로 배치 구현

- [ ] 테스트 구현 (AC: 1, 2, 4)
  - [ ] 푸터 제거 확인 테스트
  - [ ] 소셜 링크 동작 테스트
  - [ ] 사이드바 모드별 표시 테스트
  - [ ] 접근성 테스트

## Dev Notes

### 관련 소스 트리 정보
```
src/
├── components/
│   ├── layout/
│   │   ├── Layout.tsx              # Footer 제거 위치
│   │   ├── AppSidebar.tsx          # 소셜 링크 추가 위치
│   │   └── Footer.tsx              # 제거 대상 (URL 정보 참조)
│   └── ui/                         # Shadcn UI 컴포넌트
```

### 현재 Footer.tsx 소셜 링크 정보
```tsx
// Footer.tsx에서 추출한 소셜 링크 정보
const socialLinks = [
  { 
    href: "https://github.com", 
    icon: Github, 
    label: "GitHub" 
  },
  { 
    href: "https://linkedin.com", 
    icon: Linkedin, 
    label: "LinkedIn" 
  },
  { 
    href: "https://twitter.com", 
    icon: Twitter, 
    label: "Twitter" 
  },
  { 
    href: "mailto:contact@example.com", 
    icon: Mail, 
    label: "Email" 
  }
];
```

### Layout.tsx 현재 구조 (Footer 제거 전)
```tsx
// Layout.tsx의 현재 구조
<SidebarProvider defaultOpen={true}>
  <div className="flex min-h-screen w-full">
    <AppSidebar />
    <SidebarInset className="flex flex-col flex-1">
      <header>...</header>
      <main className="flex-1">{children}</main>
      <Footer /> {/* 이 부분 제거 */}
    </SidebarInset>
  </div>
</SidebarProvider>
```

### AppSidebar SidebarFooter 구현 패턴
```tsx
// Story 5.1 완료 후: AppSidebar에 SidebarFooter가 존재하지 않음
// 새로운 SidebarFooter 추가 필요
import { SidebarFooter } from '@/components/ui/sidebar';

// AppSidebar 컴포넌트 내부, SidebarContent 닫기 태그 직후에 추가:
      </SidebarContent>
      
      {/* 새로 추가할 소셜 링크 SidebarFooter */}
      <SidebarFooter className="border-t">
        <div className="p-2">
          <div className="flex items-center justify-center gap-1 group-data-[collapsible=icon]:flex-col group-data-[collapsible=icon]:gap-2">
            {socialLinks.map((link) => (
              <Button 
                key={link.label}
                variant="ghost" 
                size="icon" 
                asChild 
                className="h-8 w-8"
              >
                <a 
                  href={link.href}
                  target="_blank" 
                  rel="noopener noreferrer"
                  aria-label={link.label}
                >
                  <link.icon className="h-4 w-4" />
                </a>
              </Button>
            ))}
          </div>
        </div>
      </SidebarFooter>
    </Sidebar>
```

### 기술적 구현 세부사항
- **Framework**: React 18.3+ with TypeScript 5.3+
- **UI Components**: Shadcn UI Button, Sidebar 컴포넌트
- **Icons**: Lucide React (Github, Linkedin, Twitter, Mail)
- **Styling**: TailwindCSS 3.4+ with responsive utilities
- **Accessibility**: WCAG AA 준수, aria-label, keyboard navigation

### Story 의존성 관계
- **Prerequisite**: Story 5.1 완료 (SidebarFooter 완전 제거됨)
- **Implementation Note**: AppSidebar에 새로운 SidebarFooter를 추가해야 함 (현재 존재하지 않음)

## Testing

### 테스트 파일 위치
- **Unit Tests**: `tests/unit/components/layout/AppSidebar.test.tsx`
- **Integration Tests**: `tests/integration/footer-removal-integration.test.tsx`

### 테스트 프레임워크
- **Unit/Integration**: Vitest 1.0+ with @testing-library/react
- **Coverage Target**: UI 컴포넌트 80%+

### 구체적 테스트 케이스
```typescript
describe('AppSidebar Social Links', () => {
  it('should render all social links in sidebar footer', () => {
    // GitHub, LinkedIn, Twitter, Mail 링크 모두 렌더링 확인
  });
  
  it('should open links in new tab with correct attributes', () => {
    // target="_blank", rel="noopener noreferrer" 확인
  });
  
  it('should adapt layout when sidebar is collapsed', () => {
    // 축소 모드에서 세로 배치 확인
  });
  
  it('should be accessible via keyboard and screen readers', () => {
    // Tab 네비게이션 및 aria-label 확인
  });
});

describe('Layout Footer Removal', () => {
  it('should not render Footer component', () => {
    // Footer 컴포넌트가 DOM에 없음을 확인
  });
  
  it('should expand content area after footer removal', () => {
    // 메인 콘텐츠 영역 확장 확인
  });
});
```

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2024-01-XX | 1.0 | Initial story creation | SM Agent |
| 2024-01-XX | 1.1 | Template compliance fixes | PO Agent |
| 2025-01-07 | 1.2 | Critical fixes: AppSidebar 현재 상태 정확 반영, SidebarFooter 추가 방법 명확화 | PO Agent |

## Dev Agent Record

### Agent Model Used
_To be filled by Dev Agent_

### Debug Log References
_To be filled by Dev Agent_

### Completion Notes List
_To be filled by Dev Agent_

### File List
_To be filled by Dev Agent_

## QA Results

### Review Date: 2025-01-07

### Reviewed By: Quinn (Senior Developer QA)

### Code Quality Assessment

전반적으로 우수한 구현입니다. 개발자가 스토리의 모든 Acceptance Criteria를 올바르게 구현했으며, 추가로 copyright 텍스트까지 포함시켜 사용자의 추가 요구사항을 반영했습니다. 코드의 품질, 테스트 커버리지, 그리고 접근성 모두 뛰어납니다.

### Refactoring Performed

- **File**: `tests/integration/footer-removal-integration.test.tsx`
  - **Change**: Footer 제거 테스트를 사이드바의 copyright 이동을 반영하도록 수정
  - **Why**: 기존 테스트는 copyright 텍스트의 완전한 제거를 가정했지만, 실제로는 사이드바로 이동됨
  - **How**: Footer 컴포넌트 자체의 제거를 확인하고, copyright가 사이드바에 있는지 검증하도록 개선

- **File**: `tests/unit/components/layout/AppSidebar.test.tsx`
  - **Change**: Copyright 텍스트 렌더링 및 스타일링 테스트 추가
  - **Why**: 새로 추가된 copyright 기능에 대한 테스트 커버리지 확보
  - **How**: Copyright의 존재, 스타일 클래스, 반응형 동작을 검증하는 테스트 케이스 추가

### Compliance Check

- Coding Standards: ✓ TypeScript, React 모범 사례 준수, 적절한 컴포넌트 구조
- Project Structure: ✓ 파일 위치가 기존 프로젝트 구조와 일치
- Testing Strategy: ✓ 단위 테스트와 통합 테스트 모두 포함, 포괄적인 테스트 케이스
- All ACs Met: ✓ 모든 Acceptance Criteria가 완전히 구현됨

### Improvements Checklist

- [x] 테스트 케이스를 copyright 이동에 맞게 업데이트 (tests/integration/footer-removal-integration.test.tsx)
- [x] Copyright 관련 단위 테스트 추가 (tests/unit/components/layout/AppSidebar.test.tsx)
- [x] CSS selector 오류 수정 (unit test에서 유효하지 않은 :hidden selector 제거)

### Security Review

- ✓ 모든 외부 링크에 `target="_blank"`와 `rel="noopener noreferrer"` 적용
- ✓ 적절한 aria-label을 통한 스크린 리더 지원
- ✓ XSS 방지를 위한 안전한 URL 사용

### Performance Considerations

- ✓ 소셜 링크 배열을 컴포넌트 외부에 정의하여 불필요한 재생성 방지
- ✓ 사이드바 축소/확장 상태에 따른 효율적인 CSS 클래스 적용
- ✓ 아이콘 컴포넌트의 적절한 크기 설정

### Technical Excellence Notes

1. **반응형 디자인**: `group-data-[collapsible=icon]:flex-col`을 통한 사이드바 상태별 레이아웃 적응
2. **접근성**: 키보드 네비게이션, aria-label, 적절한 색상 대비 (text-sidebar-foreground/40)
3. **테스트 품질**: 12개 테스트 모두 통과, 단위/통합 테스트의 적절한 분리
4. **코드 구조**: socialLinks 배열의 재사용 가능한 구조, 깨끗한 컴포넌트 분리

### Final Status

✓ **Approved - Ready for Done**

이 구현은 모든 요구사항을 충족하며, 코드 품질이 우수하고, 포괄적인 테스트 커버리지를 갖추고 있습니다. 사용자의 추가 요구사항(copyright 텍스트)까지 반영하여 실무적인 완성도를 보여줍니다.